// ========================================
// EduMint - SearchSection Component
// Storybook ID: features/search/SearchSection/*
// ğŸ“ Alert Insertion Point A
// : 16/24/32px spacing
// Max Width: max-w-3xl (768px)
// ======================================== import React, { useState } from 'react';
import { Search, ChevronDown, X } from 'lucide-react';
import { Input } from '@/components/primitives/input';
import { Button } from '@/components/primitives/button';
import { Badge } from '@/components/primitives/badge';
import { ContextHealthAlert } from '@/components/common/ContextHealthAlert'; import type { HealthStatus } from '@/types/health'; export interface SearchSectionProps { /** Current search query */ query: string; /** Query change handler */ onQueryChange: (query: string) => void; /** Search submission handler */ onSearch: () => void; /** Input placeholder text */ placeholder?: string; /** Whether to show advanced search panel */ showAdvancedSearch?: boolean; /** Active filter chips */ activeFilters?: Array<{ id: string; label: string; onRemove: () => void; }; }>; /** Clear all filters handler */ onClearAll?: () => void; /** Search service health status */ searchStatus?: HealthStatus; /** Additional CSS classes */ ?: string;
} /** * SearchSection Component * * Main search interface with: * - Search input (h-12, max-w-3xl) * - ğŸ“ Alert A insertion point (mt-4) * - Advanced search panel (collapsible) * - Filter chips * * @example * <SearchSection * query={query} * onQueryChange={setQuery} * onSearch={handleSearch} * searchStatus={searchStatus} * activeFilters={[ * { id: '1', label: 'æ±äº¬å¤§å­¦', onRemove: () => {}, * ]} * /> */
export function SearchSection({ query, onQueryChange, onSearch, placeholder = 'ç§‘ç›®ã€å¤§å­¦ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢...', showAdvancedSearch, activeFilters, onClearAll, searchStatus = 'operational',
}: SearchSectionProps) { const [isAdvancedOpen, setIsAdvancedOpen] = useState(showAdvancedSearch || false); return ( <div> {/* 24px/32px padding () */} <div style={{ paddingLeft: "1rem", paddingRight: "1rem" }> {/* Search Input */} <div> {/* 768px max width */} <div style={{ display: undefined, gap: "0.5rem" }> {/* 8px gap () */} <div> <Search hidden="true" /> <Input type="search" value={query} onChange={(e) => onQueryChange(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && onSearch()} placeholder={placeholder} label="æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰" /> </div> <Button onClick={onSearch}> æ¤œç´¢ </Button> </div> {/* ğŸ“ Alert Insertion Point A: Search Status */} {/* Condition: searchStatus === 'degraded' || 'outage' */} {/* Max Width: max-w-3xl (same as search input) */} {/* Top Margin: mt-4 (16px ) */} {/* Variant: C2-S2 (degraded) or C2-S4 (outage) */} {(searchStatus === 'degraded' || searchStatus === 'outage') && ( <ContextHealthAlert category="ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚µãƒ¼ãƒ“ã‚¹" status={searchStatus} message={ searchStatus === 'degraded' ? 'ç¾åœ¨ã€æ¤œç´¢æ©Ÿèƒ½ã«é…å»¶ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚ã—ã°ã‚‰ãæ™‚é–“ã‚’ãŠã„ã¦ã‹ã‚‰å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚' : 'æ¤œç´¢æ©Ÿèƒ½ãŒä¸€æ™‚çš„ã«ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã›ã‚“ã€‚ã‚·ã‚¹ãƒ†ãƒ å¾©æ—§å¾Œã«å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚' } // 16px margin top () /> )} </div> {/* Advanced Search Toggle */} <div> {/* 16px margin () */} <Button variant="ghost" size="sm" onClick={() => setIsAdvancedOpen(!isAdvancedOpen)} expanded={isAdvancedOpen} controls=> <ChevronDown /> è©³ç´°æ¤œç´¢ </Button> </div> {/* Advanced Search Panel */} {isAdvancedOpen && ( <div id= // 24px margin ()> <div> {/* 24px padding () */} <div> {/* 16px gap () */} <div> <label>å¤§å­¦</label> <Input placeholder="å¤§å­¦åã‚’å…¥åŠ›..." /> </div> <div> <label>å­¦éƒ¨</label> <Input placeholder="å­¦éƒ¨åã‚’å…¥åŠ›..." /> </div> <div> <label>ç§‘ç›®</label> <Input placeholder="ç§‘ç›®åã‚’å…¥åŠ›..." /> </div> <div> <label>é›£æ˜“åº¦</label> <div style={{ display: undefined, gap: "0.5rem" }> {/* 8px gap () */} <Badge variant="outline">Easy</Badge> <Badge variant="outline">Medium</Badge> <Badge variant="outline">Hard</Badge> </div> </div> </div> </div> </div> )} {/* Filter Chips */} {activeFilters && activeFilters.length> 0 && ( <div style={{ display: undefined, alignItems: "center", gap: "0.5rem" }> {/* 16px margin, 8px gap () */} {activeFilters.map((filter) => ( <Badge key={filter.id} variant="secondary"> {filter.label} <button onClick={filter.onRemove} label={`${filter.label}ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’å‰Šé™¤`}> <X /> </button> </Badge> ))} {activeFilters.length> 0 && onClearAll && ( <Button variant="ghost" size="sm" onClick={onClearAll}> ã™ã¹ã¦ã‚¯ãƒªã‚¢ </Button> )} </div> )} </div> </div> );
}
